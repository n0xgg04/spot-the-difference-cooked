<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>

<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.ltm.game.client.controllers.ResultController"
           fx:id="rootPane"
           minWidth="1280" minHeight="720"
           style="-fx-background-color: #0a0e27;">
    
    <ImageView fx:id="bgImageView" preserveRatio="false">
        <Image url="@../images/v2/forest-8227410.jpg"/>
    </ImageView>
    
    <Pane fx:id="overlayPane" style="-fx-background-color: linear-gradient(to bottom, rgba(10,14,39,0.75), rgba(20,30,60,0.85));"/>
    
    <BorderPane style="-fx-background-color: transparent;">
        <top>
            <HBox alignment="TOP_LEFT" spacing="20" style="-fx-padding: 20px 30px;">
                <Button text="â¬… Trá»Ÿ láº¡i"
                        onAction="#handleBackToLobby"
                        style="-fx-font-size: 16px; 
                               -fx-font-weight: bold;
                               -fx-padding: 12px 28px; 
                               -fx-background-color: linear-gradient(to bottom, #95a5a6, #7f8c8d); 
                               -fx-text-fill: white; 
                               -fx-background-radius: 25px; 
                               -fx-cursor: hand;
                               -fx-effect: dropshadow(gaussian, rgba(149,165,166,0.6), 10, 0.7, 0, 4);"/>
            </HBox>
        </top>
        
        <center>
            <VBox alignment="CENTER" spacing="30">
                <padding>
                    <Insets top="20" right="40" bottom="40" left="40"/>
                </padding>
                
                <VBox alignment="CENTER" spacing="15">
                    <Label fx:id="resultIcon"
                           style="-fx-font-size: 120px;"/>
                    
                    <Label fx:id="resultTitle"
                           style="-fx-font-size: 48px; 
                                  -fx-font-weight: bold; 
                                  -fx-effect: dropshadow(gaussian, rgba(255,255,255,0.8), 15, 0.8, 0, 0);"/>
                </VBox>
                
                <HBox alignment="CENTER" spacing="40"
                      style="-fx-background-color: rgba(255,255,255,0.15); 
                             -fx-background-radius: 30px; 
                             -fx-border-color: rgba(255,255,255,0.4); 
                             -fx-border-width: 2px; 
                             -fx-border-radius: 30px; 
                             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 15, 0.7, 0, 5);">
                    <padding>
                        <Insets top="35" right="40" bottom="35" left="40"/>
                    </padding>
                    
                    <VBox alignment="CENTER" spacing="12">
                        <Label text="Báº N"
                               style="-fx-font-size: 18px; 
                                      -fx-font-weight: bold; 
                                      -fx-text-fill: rgba(255,255,255,0.9);"/>
                        
                        <Label fx:id="yourNameLabel"
                               style="-fx-font-size: 26px; 
                                      -fx-font-weight: bold; 
                                      -fx-text-fill: white;"/>
                        
                        <Label fx:id="yourScoreLabel"
                               style="-fx-font-size: 72px; 
                                      -fx-font-weight: bold; 
                                      -fx-effect: dropshadow(gaussian, rgba(255,255,255,0.5), 10, 0.7, 0, 0);"/>
                        
                        <Label text="Ä‘iá»ƒm"
                               style="-fx-font-size: 16px; 
                                      -fx-text-fill: rgba(255,255,255,0.7);"/>
                    </VBox>
                    
                    <Label text="VS"
                           style="-fx-font-size: 36px; 
                                  -fx-font-weight: bold; 
                                  -fx-text-fill: rgba(255,255,255,0.6); 
                                  -fx-padding: 20px 0;"/>
                    
                    <VBox alignment="CENTER" spacing="12">
                        <Label text="Äá»I THá»¦"
                               style="-fx-font-size: 18px; 
                                      -fx-font-weight: bold; 
                                      -fx-text-fill: rgba(255,255,255,0.9);"/>
                        
                        <Label fx:id="oppNameLabel"
                               style="-fx-font-size: 26px; 
                                      -fx-font-weight: bold; 
                                      -fx-text-fill: white;"/>
                        
                        <Label fx:id="oppScoreLabel"
                               style="-fx-font-size: 72px; 
                                      -fx-font-weight: bold; 
                                      -fx-effect: dropshadow(gaussian, rgba(255,255,255,0.5), 10, 0.7, 0, 0);"/>
                        
                        <Label text="Ä‘iá»ƒm"
                               style="-fx-font-size: 16px; 
                                      -fx-text-fill: rgba(255,255,255,0.7);"/>
                    </VBox>
                </HBox>
                
                <Label fx:id="reasonLabel"
                       style="-fx-font-size: 20px; 
                              -fx-text-fill: rgba(255,255,255,0.9); 
                              -fx-font-style: italic; 
                              -fx-padding: 15px 35px; 
                              -fx-background-color: rgba(255,255,255,0.15); 
                              -fx-background-radius: 25px;"/>
                
                <HBox alignment="CENTER" spacing="25">
                    <padding>
                        <Insets top="20" right="0" bottom="0" left="0"/>
                    </padding>
                    
                    <Button text="âš”ï¸ Äáº¥u láº¡i"
                            onAction="#handleRematch"
                            minWidth="200"
                            style="-fx-font-size: 16px; 
                                   -fx-font-weight: bold;
                                   -fx-padding: 14px 35px; 
                                   -fx-background-color: linear-gradient(to bottom, #e74c3c, #c0392b); 
                                   -fx-text-fill: white; 
                                   -fx-background-radius: 30px; 
                                   -fx-cursor: hand;
                                   -fx-effect: dropshadow(gaussian, rgba(231,76,60,0.6), 12, 0.7, 0, 4);"/>
                    
                    <Button text="ðŸ† Báº£ng Xáº¿p Háº¡ng"
                            onAction="#handleViewLeaderboard"
                            minWidth="200"
                            style="-fx-font-size: 16px; 
                                   -fx-font-weight: bold;
                                   -fx-padding: 14px 35px; 
                                   -fx-background-color: linear-gradient(to bottom, #f39c12, #e67e22); 
                                   -fx-text-fill: white; 
                                   -fx-background-radius: 30px; 
                                   -fx-cursor: hand;
                                   -fx-effect: dropshadow(gaussian, rgba(243,156,18,0.6), 12, 0.7, 0, 4);"/>
                </HBox>
            </VBox>
        </center>
    </BorderPane>
    
</StackPane>
